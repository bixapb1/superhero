{"ast":null,"code":"var _jsxFileName = \"D:\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\\\u041D\\u043E\\u0432\\u0430 \\u043F\\u0430\\u043F\\u043A\\u0430 (2)\\\\frontend\\\\src\\\\components\\\\form.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport style from \"../style/form.module.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { postHero, patchHero } from \"../redux/action\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Form(_ref) {\n  _s();\n\n  let {\n    setIsOpen,\n    edit\n  } = _ref;\n  const dispach = useDispatch();\n  const navigate = useNavigate();\n  const {\n    editHero\n  } = useSelector(store => store);\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n\n  const onSubmit = () => {\n    const form = document.getElementById(\"form\");\n    const formData = new FormData(form);\n\n    if (edit) {\n      dispach(patchHero(formData, editHero._id));\n      return navigate(\"/\");\n    } else {\n      dispach(postHero(formData));\n      setIsOpen(false);\n      reset();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    id: \"form\",\n    className: `${style.form} ${edit ? style.edit : \"\"}`,\n    onSubmit: handleSubmit(onSubmit),\n    encType: \"multipart/form-data\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"nickname\",\n      children: \"Nickname:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"text\",\n      id: \"nickname\",\n      ...register(\"nickname\", {\n        required: true\n      }),\n      defaultValue: !setIsOpen ? editHero === null || editHero === void 0 ? void 0 : editHero.nickname : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"real_name\",\n      children: \"Real name:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"text\",\n      id: \"real_name\",\n      ...register(\"real_name\", {\n        required: true\n      }),\n      defaultValue: !setIsOpen ? editHero === null || editHero === void 0 ? void 0 : editHero.real_name : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"origin_description\",\n      children: \"Origin description:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"text\",\n      id: \"origin_description\",\n      ...register(\"origin_description\", {\n        required: true\n      }),\n      defaultValue: !setIsOpen ? editHero === null || editHero === void 0 ? void 0 : editHero.origin_description : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"superpowers\",\n      children: \"Superpowers:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"text\",\n      id: \"superpowers\",\n      ...register(\"superpowers\", {\n        required: true\n      }),\n      defaultValue: !setIsOpen ? editHero === null || editHero === void 0 ? void 0 : editHero.superpowers : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"catch_phrase\",\n      children: \"Catch phrase:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"text\",\n      id: \"catch_phrase\",\n      ...register(\"catch_phrase\", {\n        required: true\n      }),\n      defaultValue: !setIsOpen ? editHero === null || editHero === void 0 ? void 0 : editHero.catch_phrase : \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      className: style.label,\n      htmlFor: \"Images\",\n      children: \"Upload Images:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.input,\n      type: \"file\",\n      multiple: true,\n      accept: \".jpg,.jpeg,.png\",\n      id: \"Images\",\n      ...register(\"Images\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.contentImage,\n      children: editHero.Images && editHero.Images.split(\",\").map(src => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.boxImg,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: `${src}`,\n            alt: `${src}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this)\n        }, src, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: style.submit,\n      type: \"submit\",\n      value: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Form, \"KCtONWWVeh0WO18gfF5AjiKN0gI=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useForm];\n});\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","style","useNavigate","useForm","useDispatch","useSelector","postHero","patchHero","Form","setIsOpen","edit","dispach","navigate","editHero","store","register","handleSubmit","reset","onSubmit","form","document","getElementById","formData","FormData","_id","label","input","required","nickname","real_name","origin_description","superpowers","catch_phrase","contentImage","Images","split","map","src","boxImg","submit"],"sources":["D:/OneDrive/Рабочий стол/Нова папка (2)/frontend/src/components/form.js"],"sourcesContent":["import React from \"react\";\r\nimport style from \"../style/form.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { postHero, patchHero } from \"../redux/action\";\r\nfunction Form({ setIsOpen, edit }) {\r\n  const dispach = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { editHero } = useSelector((store) => store);\r\n  const { register, handleSubmit, reset } = useForm();\r\n\r\n  const onSubmit = () => {\r\n    const form = document.getElementById(\"form\");\r\n    const formData = new FormData(form);\r\n\r\n    if (edit) {\r\n      dispach(patchHero(formData, editHero._id));\r\n      return navigate(\"/\");\r\n    } else {\r\n      dispach(postHero(formData));\r\n      setIsOpen(false);\r\n      reset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      id=\"form\"\r\n      className={`${style.form} ${edit ? style.edit : \"\"}`}\r\n      onSubmit={handleSubmit(onSubmit)}\r\n      encType=\"multipart/form-data\"\r\n    >\r\n      <label className={style.label} htmlFor=\"nickname\">\r\n        Nickname:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"text\"\r\n        id=\"nickname\"\r\n        {...register(\"nickname\", { required: true })}\r\n        defaultValue={!setIsOpen ? editHero?.nickname : \"\"}\r\n      />\r\n\r\n      <label className={style.label} htmlFor=\"real_name\">\r\n        Real name:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"text\"\r\n        id=\"real_name\"\r\n        {...register(\"real_name\", { required: true })}\r\n        defaultValue={!setIsOpen ? editHero?.real_name : \"\"}\r\n      />\r\n      <label className={style.label} htmlFor=\"origin_description\">\r\n        Origin description:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"text\"\r\n        id=\"origin_description\"\r\n        {...register(\"origin_description\", { required: true })}\r\n        defaultValue={!setIsOpen ? editHero?.origin_description : \"\"}\r\n      />\r\n\r\n      <label className={style.label} htmlFor=\"superpowers\">\r\n        Superpowers:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"text\"\r\n        id=\"superpowers\"\r\n        {...register(\"superpowers\", { required: true })}\r\n        defaultValue={!setIsOpen ? editHero?.superpowers : \"\"}\r\n      />\r\n      <label className={style.label} htmlFor=\"catch_phrase\">\r\n        Catch phrase:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"text\"\r\n        id=\"catch_phrase\"\r\n        {...register(\"catch_phrase\", { required: true })}\r\n        defaultValue={!setIsOpen ? editHero?.catch_phrase : \"\"}\r\n      />\r\n      <label className={style.label} htmlFor=\"Images\">\r\n        Upload Images:\r\n      </label>\r\n      <input\r\n        className={style.input}\r\n        type=\"file\"\r\n        multiple={true}\r\n        accept=\".jpg,.jpeg,.png\"\r\n        id=\"Images\"\r\n        {...register(\"Images\")}\r\n      />\r\n      <div className={style.contentImage}>\r\n        {editHero.Images &&\r\n          editHero.Images.split(\",\").map((src) => {\r\n            return (\r\n              <div key={src} className={style.boxImg}>\r\n                <img src={`${src}`} alt={`${src}`} />\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n\r\n      <input className={style.submit} type=\"submit\" value=\"Submit\" />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,0BAAlB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,iBAApC;;;AACA,SAASC,IAAT,OAAmC;EAAA;;EAAA,IAArB;IAAEC,SAAF;IAAaC;EAAb,CAAqB;EACjC,MAAMC,OAAO,GAAGP,WAAW,EAA3B;EACA,MAAMQ,QAAQ,GAAGV,WAAW,EAA5B;EACA,MAAM;IAAEW;EAAF,IAAeR,WAAW,CAAES,KAAD,IAAWA,KAAZ,CAAhC;EACA,MAAM;IAAEC,QAAF;IAAYC,YAAZ;IAA0BC;EAA1B,IAAoCd,OAAO,EAAjD;;EAEA,MAAMe,QAAQ,GAAG,MAAM;IACrB,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaJ,IAAb,CAAjB;;IAEA,IAAIT,IAAJ,EAAU;MACRC,OAAO,CAACJ,SAAS,CAACe,QAAD,EAAWT,QAAQ,CAACW,GAApB,CAAV,CAAP;MACA,OAAOZ,QAAQ,CAAC,GAAD,CAAf;IACD,CAHD,MAGO;MACLD,OAAO,CAACL,QAAQ,CAACgB,QAAD,CAAT,CAAP;MACAb,SAAS,CAAC,KAAD,CAAT;MACAQ,KAAK;IACN;EACF,CAZD;;EAcA,oBACE;IACE,EAAE,EAAC,MADL;IAEE,SAAS,EAAG,GAAEhB,KAAK,CAACkB,IAAK,IAAGT,IAAI,GAAGT,KAAK,CAACS,IAAT,GAAgB,EAAG,EAFrD;IAGE,QAAQ,EAAEM,YAAY,CAACE,QAAD,CAHxB;IAIE,OAAO,EAAC,qBAJV;IAAA,wBAME;MAAO,SAAS,EAAEjB,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,UAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QANF,eASE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,EAAE,EAAC,UAHL;MAAA,GAIMX,QAAQ,CAAC,UAAD,EAAa;QAAEY,QAAQ,EAAE;MAAZ,CAAb,CAJd;MAKE,YAAY,EAAE,CAAClB,SAAD,GAAaI,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEe,QAAvB,GAAkC;IALlD;MAAA;MAAA;MAAA;IAAA,QATF,eAiBE;MAAO,SAAS,EAAE3B,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,WAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAjBF,eAoBE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,EAAE,EAAC,WAHL;MAAA,GAIMX,QAAQ,CAAC,WAAD,EAAc;QAAEY,QAAQ,EAAE;MAAZ,CAAd,CAJd;MAKE,YAAY,EAAE,CAAClB,SAAD,GAAaI,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEgB,SAAvB,GAAmC;IALnD;MAAA;MAAA;MAAA;IAAA,QApBF,eA2BE;MAAO,SAAS,EAAE5B,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,oBAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA3BF,eA8BE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,EAAE,EAAC,oBAHL;MAAA,GAIMX,QAAQ,CAAC,oBAAD,EAAuB;QAAEY,QAAQ,EAAE;MAAZ,CAAvB,CAJd;MAKE,YAAY,EAAE,CAAClB,SAAD,GAAaI,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEiB,kBAAvB,GAA4C;IAL5D;MAAA;MAAA;MAAA;IAAA,QA9BF,eAsCE;MAAO,SAAS,EAAE7B,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,aAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAtCF,eAyCE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,EAAE,EAAC,aAHL;MAAA,GAIMX,QAAQ,CAAC,aAAD,EAAgB;QAAEY,QAAQ,EAAE;MAAZ,CAAhB,CAJd;MAKE,YAAY,EAAE,CAAClB,SAAD,GAAaI,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEkB,WAAvB,GAAqC;IALrD;MAAA;MAAA;MAAA;IAAA,QAzCF,eAgDE;MAAO,SAAS,EAAE9B,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,cAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAhDF,eAmDE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,EAAE,EAAC,cAHL;MAAA,GAIMX,QAAQ,CAAC,cAAD,EAAiB;QAAEY,QAAQ,EAAE;MAAZ,CAAjB,CAJd;MAKE,YAAY,EAAE,CAAClB,SAAD,GAAaI,QAAb,aAAaA,QAAb,uBAAaA,QAAQ,CAAEmB,YAAvB,GAAsC;IALtD;MAAA;MAAA;MAAA;IAAA,QAnDF,eA0DE;MAAO,SAAS,EAAE/B,KAAK,CAACwB,KAAxB;MAA+B,OAAO,EAAC,QAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA1DF,eA6DE;MACE,SAAS,EAAExB,KAAK,CAACyB,KADnB;MAEE,IAAI,EAAC,MAFP;MAGE,QAAQ,EAAE,IAHZ;MAIE,MAAM,EAAC,iBAJT;MAKE,EAAE,EAAC,QALL;MAAA,GAMMX,QAAQ,CAAC,QAAD;IANd;MAAA;MAAA;MAAA;IAAA,QA7DF,eAqEE;MAAK,SAAS,EAAEd,KAAK,CAACgC,YAAtB;MAAA,UACGpB,QAAQ,CAACqB,MAAT,IACCrB,QAAQ,CAACqB,MAAT,CAAgBC,KAAhB,CAAsB,GAAtB,EAA2BC,GAA3B,CAAgCC,GAAD,IAAS;QACtC,oBACE;UAAe,SAAS,EAAEpC,KAAK,CAACqC,MAAhC;UAAA,uBACE;YAAK,GAAG,EAAG,GAAED,GAAI,EAAjB;YAAoB,GAAG,EAAG,GAAEA,GAAI;UAAhC;YAAA;YAAA;YAAA;UAAA;QADF,GAAUA,GAAV;UAAA;UAAA;UAAA;QAAA,QADF;MAKD,CAND;IAFJ;MAAA;MAAA;MAAA;IAAA,QArEF,eAgFE;MAAO,SAAS,EAAEpC,KAAK,CAACsC,MAAxB;MAAgC,IAAI,EAAC,QAArC;MAA8C,KAAK,EAAC;IAApD;MAAA;MAAA;MAAA;IAAA,QAhFF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAoFD;;GAxGQ/B,I;UACSJ,W,EACCF,W,EACIG,W,EACqBF,O;;;KAJnCK,I;AA0GT,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}